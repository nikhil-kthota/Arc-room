<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ArcRoom - Secure File Storage</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="scrollbar.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Funnel+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  </head>
  <body>
    <header class="header">
      <div class="container">
        <a href="/" class="logo">
          <span class="logo-icon"></span>
          <span>ArcRoom</span>
        </a>
        
        <div class="nav-center">
          <button class="btn btn-primary" onclick="handleCreateRoom()">Create Room</button>
        </div>
        
        <div class="auth-buttons" id="authButtons">
          <button class="btn btn-ghost" onclick="showLoginModal()">Login</button>
          <button class="btn btn-primary" onclick="showRegisterModal()">Register</button>
        </div>
      </div>
    </header>

    <main>
      <div class="container">
        <div class="join-room-card">
          <h1>Enter Room</h1>
          <form id="joinRoomForm" onsubmit="handleJoinRoom(event)">
            <div class="form-group">
              <label for="roomId">Room ID</label>
              <input type="text" id="roomId" required placeholder="Enter room ID">
            </div>
            <div class="form-group">
              <label for="roomPin">Room PIN</label>
              <input type="text" id="roomPin" required placeholder="Enter 4-digit PIN" maxlength="4" pattern="\d{4}">
            </div>
            <button type="submit" class="btn btn-primary w-full">Join Room</button>
          </form>
        </div>

        <!-- How to Use Section -->
        <div class="how-to-use-section">
          <div class="section-header">
            <h2>How to Use ArcRoom</h2>
            <p>Get started with secure file sharing in just a few simple steps</p>
          </div>
          
          <div class="steps-container">
            <!-- Step 1 -->
            <div class="step-row">
              <div class="step-card-horizontal">
                <div class="step-number">1</div>
                <div class="step-content">
                  <h3>Create an Account</h3>
                  <p>Register with your email to start creating secure rooms for file storage and sharing.</p>
                </div>
              </div>
              <div class="step-arrow">
                <svg width="40" height="24" viewBox="0 0 40 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M39.0607 13.0607C39.6464 12.4749 39.6464 11.5251 39.0607 10.9393L29.5147 1.39340C28.9289 0.807611 27.9792 0.807611 27.3934 1.39340C26.8076 1.97918 26.8076 2.92893 27.3934 3.51472L35.8787 12L27.3934 20.4853C26.8076 21.0711 26.8076 22.0208 27.3934 22.6066C27.9792 23.1924 28.9289 23.1924 29.5147 22.6066L39.0607 13.0607ZM0 13.5H38V10.5H0V13.5Z" fill="var(--silver-400)"/>
                </svg>
              </div>
            </div>
            
            <!-- Step 2 -->
            <div class="step-row">
              <div class="step-card-horizontal">
                <div class="step-number">2</div>
                <div class="step-content">
                  <h3>Create a Room</h3>
                  <p>Set up a new room with a unique ID and 4-digit PIN. Upload files during creation or add them later.</p>
                </div>
              </div>
              <div class="step-arrow">
                <svg width="40" height="24" viewBox="0 0 40 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M39.0607 13.0607C39.6464 12.4749 39.6464 11.5251 39.0607 10.9393L29.5147 1.39340C28.9289 0.807611 27.9792 0.807611 27.3934 1.39340C26.8076 1.97918 26.8076 2.92893 27.3934 3.51472L35.8787 12L27.3934 20.4853C26.8076 21.0711 26.8076 22.0208 27.3934 22.6066C27.9792 23.1924 28.9289 23.1924 29.5147 22.6066L39.0607 13.0607ZM0 13.5H38V10.5H0V13.5Z" fill="var(--silver-400)"/>
                </svg>
              </div>
            </div>
            
            <!-- Step 3 -->
            <div class="step-row">
              <div class="step-card-horizontal">
                <div class="step-number">3</div>
                <div class="step-content">
                  <h3>Share Access</h3>
                  <p>Share your room ID and PIN with others to give them access to view and download files.</p>
                </div>
              </div>
              <div class="step-arrow">
                <svg width="40" height="24" viewBox="0 0 40 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M39.0607 13.0607C39.6464 12.4749 39.6464 11.5251 39.0607 10.9393L29.5147 1.39340C28.9289 0.807611 27.9792 0.807611 27.3934 1.39340C26.8076 1.97918 26.8076 2.92893 27.3934 3.51472L35.8787 12L27.3934 20.4853C26.8076 21.0711 26.8076 22.0208 27.3934 22.6066C27.9792 23.1924 28.9289 23.1924 29.5147 22.6066L39.0607 13.0607ZM0 13.5H38V10.5H0V13.5Z" fill="var(--silver-400)"/>
                </svg>
              </div>
            </div>
            
            <!-- Step 4 -->
            <div class="step-row">
              <div class="step-card-horizontal">
                <div class="step-number">4</div>
                <div class="step-content">
                  <h3>Manage Files</h3>
                  <p>Upload, preview, download, and organize your files. Only room creators can upload and delete files.</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Why Use ArcRoom Section -->
        <div class="why-use-section">
          <div class="section-header">
            <h2>Why Use ArcRoom?</h2>
            <p>Discover the benefits of our secure file sharing platform</p>
          </div>
          
          <div class="benefits-grid">
            <div class="benefit-card">
              <div class="benefit-icon share-icon"></div>
              <div class="benefit-content">
                <h3>File Sharing Interface</h3>
                <p>Acts as a simple and secure interface to share files with others. Create rooms with custom access controls and share files instantly.</p>
              </div>
            </div>
            
            <div class="benefit-card">
              <div class="benefit-icon storage-icon"></div>
              <div class="benefit-content">
                <h3>File Storage Interface</h3>
                <p>Acts as a reliable interface to store your files in the cloud. Access your files from anywhere with room-based organization.</p>
              </div>
            </div>
            
            <div class="benefit-card">
              <div class="benefit-icon simple-icon"></div>
              <div class="benefit-content">
                <h3>Simple & Fast Access</h3>
                <p>It's simple and the no-login feature allows faster access for viewers. Anyone with room credentials can access files instantly without creating an account.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Auth Modals -->
    <div class="modal" id="loginModal">
      <div class="modal-content">
        <h2>Log in to create rooms</h2>
        <form id="loginForm" onsubmit="handleLogin(event)">
          <div class="form-group">
            <label for="loginEmail">Email</label>
            <input type="email" id="loginEmail" required placeholder="your.email@example.com">
          </div>
          <div class="form-group">
            <label for="loginPassword">Password</label>
            <input type="password" id="loginPassword" required placeholder="Your password">
          </div>
          <button type="submit" class="btn btn-primary w-full">Log in</button>
        </form>
        <p class="text-center mt-4">
          Don't have an account? 
          <a href="#" onclick="showRegisterModal()">Register</a>
        </p>
      </div>
    </div>

    <div class="modal" id="registerModal">
      <div class="modal-content">
        <h2>Create an account</h2>
        <form id="registerForm" onsubmit="handleRegister(event)">
          <div class="form-group">
            <label for="registerEmail">Email</label>
            <input type="email" id="registerEmail" required placeholder="your.email@example.com">
          </div>
          <div class="form-group">
            <label for="registerPassword">Password</label>
            <input type="password" id="registerPassword" required placeholder="Create a password">
          </div>
          <div class="form-group">
            <label for="confirmPassword">Confirm Password</label>
            <input type="password" id="confirmPassword" required placeholder="Confirm your password">
          </div>
          <button type="submit" class="btn btn-primary w-full">Register</button>
        </form>
        <p class="text-center mt-4">
          Already have an account? 
          <a href="#" onclick="showLoginModal()">Log in</a>
        </p>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>